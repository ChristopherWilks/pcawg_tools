<tool id="broad_variant_pipline" name="BroadVariantPipeline" version="1.0.0">
    <description></description>
    <requirements>
        <!-- This docker image is closed source and must be obtained seperately -->
        <container type="docker">broad_variant_pipeline</container>
    </requirements>
    <command interpreter="bash">
broad_variant_pipeline.sh ${sample_id} ${tumor_bam} ${normal_bam}
    </command>

    <inputs>
        <param name="sample_id" type="text" label="Sample Name"/>
        <param name="tumor" type="data" format="bam" label="Tumor BAM file"/>
        <param name="normal" type="data" format="bam" label="Normal BAM file"/>
      </inputs>

    <outputs>
        <data format="txt" name="usage_stats" label="Usage Stats" from_work_dir="total.summary.usage.txt">
        <data format="vcf" name="snowman_germline_indel" label="${sample_id}.snowman.germline.indel.vcf" from_work_dir="snowman.germline.indel.vcf"/>
        <data format="vcf" name="snowman_germline_sv" label="${sample_id}.snowman.germline.sv.vcf" from_work_dir="snowman.germline.sv.vcf"/>
        <data format="vcf" name="snowman_somatic_indel" label="${sample_id}.snowman.somatic.indel.vcf" from_work_dir="snowman.somatic.indel.vcf"/>
        <data format="vcf" name="snowman_somatic_sv" label="${sample_id}.snowman.somatic.sv.vcf" from_work_dir="snowman.somatic.sv.vcf"/>
    </outputs>
    <stdio>
        <exit_code range="1:" level="fatal" />
    </stdio>
    <help>
If you want help, you've come to the wrong place
  </help>
</tool>
